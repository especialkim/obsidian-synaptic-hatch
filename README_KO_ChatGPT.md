# Synaptic Hatch: 옵시디언을 언제든 불러오는 미니 팝업 허치

Synaptic Hatch는 Obsidian 데스크톱 앱 어디서든 창을 **항상 위(Always-on-Top)** 상태로 고정하고, 필요한 노트를 별도 팝업으로 바로 띄울 수 있게 해 주는 플러그인입니다. 메인 창을 가리지 않고도 메모하거나, 참고 자료를 옆에 붙여 둔 채 다른 앱을 사용할 수 있습니다.

## 주요 기능 한눈에 보기
- **창 고정 토글**: 현재 활성 Obsidian 창을 Always-on-Top/해제 상태로 전환합니다. (명령: `Toggle Window Pin for Always on Top`)
- **팝아웃 노트**: 보고 있던 노트를 새 창으로 열고 즉시 Always-on-Top으로 유지합니다. (명령: `Open Always-On-Top Popout`)
- **시각적 핀 표시기**: 메인·팝아웃 창 우측 상단에 고정 상태를 보여주는 작은 인디케이터를 배치할 수 있습니다. 크기·위치도 조정 가능.
- **커스텀 팝아웃 명령**: 자주 여는 파일, 새 노트, 저널 노트를 단축키 한 번에 Always-on-Top 팝업으로 호출하는 나만의 명령을 만들 수 있습니다.
- **프로토콜 & 런처 연동**: `obsidian://custom-popout?vault=...&id=...` URI를 통해 Raycast, Alfred, AutoHotkey 등 시스템 런처와 연결하면 Obsidian을 앞에 두지 않고도 팝업을 불러올 수 있습니다.

## 제공 명령어
| 명령 ID | 커맨드 이름 | 설명 | 추천 사용처 |
| --- | --- | --- | --- |
| `toggle-window-pin` | Toggle Window Pin for Always on Top | 현재 창의 Always-on-Top 상태를 토글하며, 표시기가 꺼져 있을 때만 안내 알림을 보여 줍니다. | 메인 창을 화면 구석에 고정하거나, 회의 중 중요 노트를 항상 위에 두고 싶을 때 |
| `open-always-on-top-popout` | Open Always-On-Top Popout | 활성 노트를 새 팝업 창으로 열고 Always-on-Top으로 이동합니다. | 참고 자료, 체크리스트, 코드 스니펫 등을 세컨드 모니터에 고정 |
| (사용자 설정) | Custom Popout Commands | 설정 탭에서 정의한 커스텀 명령을 등록합니다. 파일/폴더/저널/빈 창 등 다양한 패턴을 빠르게 호출할 수 있습니다. | 퀵 메모, 회의록 자동 생성, 일간/주간 리뷰 노트 띄우기 등 |

> **팁**: **Settings → Hotkeys**에서 위 명령어에 단축키를 지정하면 다른 앱을 쓰고 있을 때도 바로 실행할 수 있습니다.

## 빠르게 시작하기
1. **설치**  
   - Obsidian에서 **Settings → Community plugins**로 이동하여 `Synaptic Hatch`를 검색, 설치 후 활성화합니다.
2. **필수 명령 테스트**  
   - 커맨드 팔레트에서 `Toggle Window Pin for Always on Top`을 실행해 창 고정이 잘 되는지 확인합니다.  
   - `Open Always-On-Top Popout`을 실행해 현재 노트가 새 창으로 뜨는지 확인합니다.
3. **단축키 지정**  
   - 자주 쓸 명령을 **Settings → Hotkeys**에서 원하는 키 조합으로 등록하세요. (예: `Ctrl+Shift+P`로 팝아웃 열기)
4. **커스텀 팝아웃 구성(선택)**  
   - 플러그인 설정의 **Custom Popout Commands** 섹션에서 나만의 팝아웃 명령을 만들어 단축키/런처에 연결해 보세요.

## 설정 가이드

### 1. Main Window Indicator
- 메인 창 우측 상단에 핀 표시기를 보여 줄지 선택합니다. (기본값: 꺼짐)
- Always-on-Top 상태일 때만 나타나도록 설계되어, 고정 여부를 한눈에 확인할 수 있습니다.
- 오프셋(top/right), 표시기 크기, 아이콘 크기를 픽셀 단위로 조정할 수 있습니다.

### 2. Pop-out Window Indicator
- 각 팝아웃 창에도 별도 표시기를 띄울 수 있습니다. (기본값: 켜짐)
- 메인 창과 동일하게 위치·크기를 조정할 수 있으며, 항상 고정 상태를 강조합니다.

### 3. Custom Popout Commands
커스텀 명령을 켜면 설정 탭에서 여러 개의 팝아웃 시나리오를 등록할 수 있습니다. 모든 명령은 **Always-on-Top** 상태로 실행되며, 필요한 경우 메인 창을 자동으로 배경으로 보내 집중 흐름을 유지합니다.

- **Blank**: 빈 팝아웃 창을 바로 열어 빠른 메모용 창을 준비합니다.
- **File**: 특정 파일 경로를 지정해 항상 같은 노트를 팝업으로 열 수 있습니다.
- **Folder**: 지정한 폴더에 새 노트를 생성하고 팝업에서 엽니다.  
  - 파일명 규칙에 `{{date}}`를 넣으면 플러그인 설정의 날짜 형식(`YYYY-MM-DD` 등)에 따라 자동 치환됩니다.  
  - 템플릿 파일 경로를 입력하면 새 노트에 내용이 복사됩니다.
- **Journal**: Obsidian Daily/Periodic Notes 설정을 인식하여 일간, 주간, 월간, 분기, 연간 노트를 자동으로 생성·열어 줍니다.

각 커스텀 명령은 켜기 전에 유효성 검사를 통과해야 합니다. 경로나 템플릿이 없으면 알림으로 안내해 주니, 안내에 맞춰 값을 수정해 주세요. 명령을 활성화하면 커맨드 팔레트에 자동 등록되고, `Remove` 버튼으로 삭제할 수 있습니다.

### 4. Miscellaneous
- `Date format`: `{{date}}` 치환에 사용할 Moment.js 형식을 입력합니다. 기본값은 `YYYY-MM-DD`.

## 런처 및 자동화 연동
- 커스텀 명령을 활성화하면 항목 우측의 **Copy URI** 버튼으로 `obsidian://custom-popout?vault=<vault>&id=<commandId>` 형태의 URI를 클립보드에 복사할 수 있습니다.
- Alfred, Raycast, AutoHotkey, macOS 단축어, Windows PowerToys Run 등에서 이 URI를 실행하도록 설정하면 Obsidian을 직접 열지 않아도 팝아웃이 즉시 나타납니다.
- 빈 팝업을 이용한 **글로벌 퀵 메모**를 만들고 싶다면 Blank 타입 커스텀 명령을 하나 생성하고 해당 URI를 전역 단축키에 매핑해 보세요.

## 활용 아이디어
- **회의·통화 메모 패드**: Folder 타입 명령으로 `Meetings/` 폴더와 날짜 기반 파일명을 지정하고, 템플릿에 회의록 양식을 넣어두면 호출 즉시 회의 노트가 준비됩니다.
- **일간 체크리스트 패널**: File 타입으로 오늘의 할 일 노트를 항상 위에 띄워놓고 다른 앱을 전환해도 계속 보이도록 유지하세요.
- **저널 습관 강화**: Journal 타입으로 주간/월간 회고 노트를 호출해 일정한 주기로 회고를 작성할 수 있습니다.
- **리서치 사이드카**: 중요한 참고 자료를 팝아웃으로 띄워두고, 메인 창은 배경으로 보내 다른 앱에서 작업하면서도 내용을 계속 확인합니다.

## 호환성 및 제한 사항
- Electron 창 제어 API를 사용하므로 **Obsidian 데스크톱 버전에서만 동작**합니다. (모바일 미지원)
- 운영체제 정책이나 서드파티 가상 데스크톱 앱에 따라 Always-on-Top 제어가 제한될 수 있습니다.
- Journal 명령은 **Daily Notes** 또는 **Periodic Notes** 플러그인이 활성화되어 있어야 모든 주기 옵션을 사용할 수 있습니다.

## 문제 해결 가이드
- **창이 고정되지 않거나 알림이 반복된다면**: OS에서 Always-on-Top 제어를 허용하는지 확인하고, 다른 Always-on-Top 유틸리티와 충돌하는지 점검하세요.
- **인디케이터가 보이지 않는다면**: 설정에서 해당 창 유형의 표시기가 켜져 있는지, 오프셋이 화면 범위를 벗어나지 않았는지 확인합니다.
- **커스텀 명령이 나타나지 않는다면**: 필수 입력값(경로, 파일명 규칙 등)을 모두 채웠는지 확인 후 토글을 다시 켭니다. 오류 메시지가 있다면 안내된 경로를 먼저 해결하세요.
- **저널 명령이 실행되지 않는다면**: Daily/Periodic Notes 플러그인의 설정에서 해당 주기의 폴더와 템플릿이 올바르게 지정되어 있는지 확인하세요.

## 라이선스
- MIT License (저장소 `LICENSE` 파일 참고)

이제 Synaptic Hatch로 Obsidian 노트를 언제 어디서든 불러내고, 방해받지 않는 몰입형 노트 환경을 만들어 보세요!
